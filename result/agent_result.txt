initialSessionFailureBackoff
maxSessionFailureBackoff
nodeUpdatePeriod
Agent
config
node
keys
sessionq
sessionOperation
worker
started
startOnce
ready
leaving
leaveOnce
left
stopped
stopOnce
closed
err
nodeUpdatePeriod
New
config
Agent
err
config
err
err
a
Agent
config
config
sessionOperation
nodeUpdatePeriod
nodeUpdatePeriod
a
config
config
a
a
a
Agent
ctx
err
a
a
a
ctx
err
err
a
Agent
ctx
a
a
a
a
a
ctx
ctx
err
ch
err
a
ctx
ch
ch
err
a
a
Agent
ctx
a
a
a
ctx
ctx
a
Agent
stopped
a
a
stopped
stopped
a
Agent
ctx
a
a
ctx
ctx
a
Agent
a
a
Agent
ctx
ctx
cancel
ctx
cancel
a
ctx
ctx
ctx
ctx
nodeTLSInfo
a
nodeDescription
err
a
ctx
nodeTLSInfo
err
ctx
err
a
nodeUpdateTicker
a
nodeUpdateTicker
backoff
session
ctx
a
backoff
nodeDescription
registered
session
ready
a
sessionq
sessionOperation
leaving
a
subscriptions
session
err
a
ctx
err
ctx
err
a
err
a
reporter
ctx
a
reporter
a
ctx
reporter
updateNode
registered
newNodeDescription
err
a
ctx
nodeTLSInfo
err
ctx
err
a
newNodeDescription
nodeDescription
newNodeDescription
nodeDescription
newNodeDescription
ctx
err
session
err
ctx
err
sessionq
registered
operation
sessionq
operation
operation
session
leaving
leaving
err
a
ctx
err
ctx
err
a
msg
session
leaving
msg
err
a
ctx
msg
err
ctx
err
err
a
ctx
msg
err
ctx
err
msg
session
err
a
ctx
msg
nodeTLSInfo
err
ctx
err
sub
session
sub
cancel
ok
subscriptions
sub
ok
cancel
subscriptions
sub
_
ok
subscriptions
sub
ok
subCtx
subCancel
ctx
subscriptions
sub
subCancel
a
subCtx
sub
registered
ctx
ready
ready
a
a
ready
registered
backoff
sessionq
a
a
ctx
reporter
err
session
err
a
a
err
backoff
initialSessionFailureBackoff
backoff
backoff
maxSessionFailureBackoff
backoff
maxSessionFailureBackoff
ctx
err
backoff
err
session
err
ctx
err
sessionq
registered
session
a
err
a
err
ctx
err
a
err
ctx
delay
backoff
delay
backoff
session
ctx
a
delay
session
nodeDescription
registered
session
ev
a
tlsInfo
ok
ev
ok
nodeTLSInfo
tlsInfo
updateNode
nodeUpdateTicker
nodeUpdateTicker
a
nodeUpdateTicker
updateNode
a
ctx
a
a
ctx
a
Agent
ctx
message
nti
seen
_
manager
message
manager
a
manager
manager
seen
manager
changes
message
a
nodesEqual
a
message
a
changes
message
a
message
err
a
ctx
a
err
ctx
err
message
message
nti
changes
changes
message
changes
message
changes
a
changes
peer
a
_
ok
seen
peer
ok
a
peer
message
_
key
message
same
_
agentKey
a
agentKey
key
same
same
a
message
err
a
a
err
err
sessionOperation
fn
session
response
a
Agent
ctx
fn
session
response
a
sessionOperation
fn
fn
response
response
err
response
err
a
ctx
ctx
a
ctx
ctx
a
Agent
ctx
taskID
status
ctx
taskID
ctx
cancel
ctx
cancel
errs
err
a
ctx
session
err
session
ctx
taskID
status
err
err
err
ctx
err
session
err
ctx
errs
err
err
err
err
errs
err
ctx
ctx
a
Agent
ctx
subscriptionID
err
publisher
err
a
ctx
session
publisher
err
session
ctx
err
err
err
sendCloseMsg
publisher
subscriptionID
publisher
ctx
message
ctx
sendCloseMsg
ctx
publisher
subscriptionID
message
sendCloseMsg
a
Agent
ctx
tlsInfo
desc
err
a
ctx
desc
a
desc
desc
a
desc
tlsInfo
desc
a
desc
err
nodesEqual
a
b
a
b
a
b
a
b
a
b
a
b
