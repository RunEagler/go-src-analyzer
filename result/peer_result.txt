GRPCMaxMsgSize
peer
id
tr
msgc
ctx
cancel
done
mu
cc
addr
newAddr
active
becameActive
newPeer
id
addr
tr
peer
cc
err
tr
addr
err
err
id
addr
ctx
cancel
tr
ctx
ctx
id
p
peer
id
id
addr
addr
cc
cc
tr
tr
ctx
ctx
cancel
cancel
p
ctx
p
p
peer
m
err
p
err
p
p
p
p
p
p
m
p
p
p
p
p
peer
addr
p
p
p
addr
cc
err
p
addr
err
err
p
p
cc
p
addr
p
peer
addr
p
p
p
addr
p
p
addr
p
addr
p
peer
p
p
p
p
peer
p
p
p
p
peer
ctx
id
resp
err
p
ctx
id
err
err
resp
raftMessageStructSize
m
m
m
raftMessagePayloadSize
m
GRPCMaxMsgSize
raftMessageStructSize
m
splitSnapshotData
ctx
m
messages
m
messages
size
m
payloadSize
raftMessagePayloadSize
m
snapDataIndex
snapDataIndex
size
chunkSize
size
snapDataIndex
chunkSize
payloadSize
chunkSize
payloadSize
raftMsg
m
raftMsg
m
snapDataIndex
snapDataIndex
chunkSize
snapDataIndex
chunkSize
msg
raftMsg
messages
messages
msg
messages
needsSplitting
m
raftMsg
m
m
raftMsg
GRPCMaxMsgSize
p
peer
ctx
m
ctx
cancel
ctx
p
cancel
err
stream
stream
err
p
ctx
err
msgs
needsSplitting
m
msgs
splitSnapshotData
ctx
m
raftMsg
m
msgs
msgs
raftMsg
_
msg
msgs
err
stream
msg
err
ctx
err
stream
err
err
stream
err
ctx
err
ctx
err
s
_
err
s
ctx
err
p
ctx
m
s
err
s
s
p
m
err
p
m
p
m
err
p
m
err
healthCheckConn
ctx
cc
resp
err
cc
ctx
err
err
resp
resp
p
peer
ctx
ctx
cancel
ctx
p
cancel
healthCheckConn
ctx
p
p
peer
p
p
p
p
p
p
peer
p
p
p
p
p
peer
p
p
p
p
peer
ctx
cancel
cancel
m
ok
p
ok
err
p
ctx
m
err
err
ctx
ctx
p
peer
ctx
p
newAddr
p
p
p
newAddr
cc
err
p
newAddr
err
err
ctx
cancel
ctx
p
cancel
err
healthCheckConn
ctx
cc
err
cc
err
p
p
p
cc
p
newAddr
p
p
p
p
p
peer
ctx
p
p
p
p
p
p
err
p
err
ctx
err
p
err
p
ctx
err
p
ctx
m
p
err
p
m
err
ctx
err
m
p
err
p
ctx
err
ctx
err
p
ctx
p
peer
p
p
